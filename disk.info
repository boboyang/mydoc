fdisk -l

/dev/sda1            2048     3074047     1536000    7  HPFS/NTFS/exFAT
/dev/sda2         3074048   116033535    56479744    7  HPFS/NTFS/exFAT
/dev/sda3       116037558   120342909     2152676   83  Linux
/dev/sda4       120342915   250083854    64870470    f  W95 Ext'd (LBA)
/dev/sda5   *   120342978   162286017    20971520   83  Linux
/dev/sda6       162288693   183269516    10490412   83  Linux
/dev/sda7       183269583   200057422     8393920   82  Linux swap / Solaris
/dev/sda8       200057508   223142843    11542668   83  Linux
/dev/sda9       231534592   250068991     9267200    7  HPFS/NTFS/exFAT

Filesystem      Size  Used Avail Use% Mounted on
rootfs           20G   17G  1.8G  91% /
dev             1.9G     0  1.9G   0% /dev
run             1.9G  432K  1.9G   1% /run
/dev/sda5        20G   17G  1.8G  91% /
shm             1.9G  780K  1.9G   1% /dev/shm
tmpfs           2.1G  2.0G  196K 100% /tmp
/dev/sda3       2.1G  2.0G  196K 100% /tmp
/dev/sda6       9.9G  4.4G  5.0G  47% /var
/dev/sda8        11G  9.6G  725M  94% /home
/dev/sda2        54G   40G   15G  73% /mnt/winC

#prepare

#change USELVM="no" to USELVM="yes" in /etc/rc.conf
确保 lvm2 在 /etc/mkinitcpio.conf HOOKS 部分的 filesystems 前面，这样您的内核就可以在启动时找到 LVM 卷。

fdisk /dev/sda
t : 8e
w

#format
mkfs.ext3 /dev/sda9

pvcreate /dev/sda9
#pvdisplay

vgcreate main /dev/sda9
#vgdisplay
# vgextend VolGroup00 /dev/sdb8
lvcreate -L8.8G -nlv_home main
#lvremove /dev/

lvdisplay

mkdir /mnt/newhome
mount /dev/main/lv_home /mnt/newhome
# df


init 1

然后，开始复制文件：
# cp -avx /home/* /mnt/newhome

复制操作需要大约 10 分钟的时间完成。然后，我将原始 /home 备份成 /home.old，这只是为在复制过程中有任何错误而准备的。创建一个新的安装点，然后在 /home 上重新安装新 home：
# cd /
# mv home home.old
# mkdir home
# umount /mnt/newhome
# mount /dev/main/lv_home /home

然后，应该设置服务器以使我的新 /home 分区可以在每次启动机器时使用。首先修改 /etc/fstab 以使它包括新的 /home 项：
# /etc/fstab: static file system information.
#
# fs                mountpoint       type         opts          dump/pass
/dev/hda3           /                reiserfs     defaults      1 1
/dev/main/lv_home   /home            reiserfs     defaults      2 2

然后，我对初始化脚本进行了一些小小改动。我修改了 "checkroot" 启动脚本，使以下命令可以在根分区重新安装读／写后立即运行：
/sbin/vgscan
/sbin/vgchange -a y

接下来，我修改了在关机时运行的文件系统卸装脚本，使以下命令在卸装了所有文件系统 后立即运行：
/sbin/vgchange -a n

完成了这些步骤后，我重新引导了机器，让我高兴的是一切都工作正常。在接下去的一天左右的时间里完全没有问题，随后我删除了 /home.old 以释放根文件系统上的一些空间。太棒了！到 LVM 的转换成功了。

#Grow logical volume
lvextend -L 20G VolGroup00/lvolhome (or lvresize -L +5G VolGroup00/lvolhome)
resize2fs /dev/VolGroup00/lvolhome
#fill all the free space
# lvextend -l +100%FREE VolGroup00/lvolhome

